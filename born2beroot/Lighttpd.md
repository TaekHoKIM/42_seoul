오픈소스 무료 경량 웹서버 어플리케이션 (Lightweight HTTP sever deamon)
- 높은 성능과 낮은 메모리 사용량
- 정적파일 서빙 및 FastCGI, SCGI, CGI를 지원하여 동적 콘텐츠 처리
- 프록시 기능 지원 ( 프록시 서버로 활용할 수 있음)
- https 지원 ( SSL/TLS 암호화 지원)

동적콘텐츠 - 실시간으로 웹페이지가 동적으로 생성되어 사용자에게 제공되는 콘텐츠 - 서버에서 동적으로 웹페이지를 생성해서 사용자에게 보냄
ex) 실시간 주식 가격, 채팅 등
정적콘텐트 - 미리 저장해서 만들어둔 웹페이지 콘텐츠

@local 에서 접속하려면 (http://localhost:8000/wordpress)

# CGI
Common Gate Interface의 약자
웹서버와 프로그램 또는 스크립트 간의 상호작용을 하는 인터페이스 ( ==방법이나 규약==을 이야기함)
![](https://blog.kakaocdn.net/dn/cDR0o3/btqGRQ28CVD/8bgV4GdX7BLMCEUZ5yus40/img.png)
- 웹서버는 요청을 받고 처리하는 역할을  함, 이 과정에서 동적인 컨텐츠 생성은  CGI 프로그램을 이용해서 처리하고 그 결과를 받아서 클라이언트에게 보내는 방식임
- 이러한 cgi 규약을 지켜 작성된 프로그램이 cgi 프로그램
- 근데 요청을 할때 마다 cgi 프로그램이 실행되고 꺼짐 - 여러 요청이 올때 속도가 느려짐
	-> 그래서 나온 것이 어플리케이션 프로세스를 항상 켜놓고 요청이 올때마다 처리하는 방식을 고안 - 어플리케이션 서버가 그 일종,  fastcgi도 그 일종
==php는 cgi 규약을 준수하는 스크립트 언어중 하나==

# 웹서버
- 정적 웹서버 
	1. HTTP인 정적 컨텐츠를 관리하는 서버
	2. 데이터가 고정되어서 변하지 않는 웹페이지를 관리하는 서버
- 동적 웹서버
	1. 정적 웹서버와 어플리케이션 서버(AS)로 구성
	2. 동적 데이터를 대응하기 위한 서버
	3. 어플리케이션 서버는 정적 웹서버의 요청을 받아서 동적콘텐츠를 만들고 웹서버에게 반환
	 -> 이때 ==웹서버와 외부 프로그램== 사이에 통신에 사용되는 규약이 CGI - 요청이 들어올때 마다 프로세스를 실행하고 반환을하고 프로세스를 종료 <- 오버헤드가 큼
	 -> ==웹서버와 어플리케이션 서버== 사이에 규약은 보다 발전된 FastCGI, mod_php등 - 항상 켜놓고 웹서버와 통신해서 요청을 처리하는 방식

일반적으로 linux에서는 /var/www 디렉토리에서 웹서버의 정적콘텐츠나 동적콘텐츠를 관리함
/var/www/html - 정적콘텐츠
/var/www/cgi-bin - 동적콘텐츠 - cgi 스크립트를 가지고 있는 디렉토리

# PHP
Hypertext Preprocessor (원래는 Personal Home Page의 약자임)
- 웹개발에 사용되는 서버측의 스크립트 언어 (웹서버와 연동되어야 함)
- ==동적 웹페이지를 생성하고 처리하기 위한 언어==
- 주로 html안에 php 코드를 삽입해서 사용 - 유지보수를 위해서 따로 php파일을 생성해서 사용하기도 함!
![PHP works](https://tcpschool.com/lectures/img_php_works.png)

# PHP-fpm
PHP fastCGI process manager
fastCGI를 기반으로 프로세스를 관리하고 실행하는 매니저 프로그램
- fastCGI는 기존의 CGI 방식과 다르게 여러개의 프로세스 풀을 생성해놓고 요청이 있을때 마다 실행해서 반환함 - 프로세스를 생성하는 오버헤드를 줄임
- 주로 웹서버와 통합되어 사용됨 - php-fpm이 php 스크립트 실행을 담당함

cgi.fix_pathinfo = 1로 활성화 시 해당 경로에 php 스크립터가 없더라도 근접한 php로 파싱해서 실행함 / cgi.fix_pathinfo = 0으로 비활성화를 하면 정확한 php파일이 있는 경우에만 파싱해서 실행을 함 - 보안적으로 더 좋음

/etc/lighttpd/conf-available/15-fastcgi-php-fpm.conf 파일에서 lighttpd 서버와 php-fpm간의 통신을 하기 위한 소켓을 지정함

